<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>DChat: src/util.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DChat
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('util_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">util.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains several miscellanious utility functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;readline/readline.h&gt;</code><br />
<code>#include &quot;dchat_h/log.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for util.c:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c__incl.png" border="0" usemap="#src_2util_8c" alt=""/></div>
<map name="src_2util_8c" id="src_2util_8c">
<area shape="rect" id="node7" href="log_8h_source.html" title="dchat_h/log.h" alt="" coords="571,80,673,107"/></map>
</div>
</div>
<p><a href="util_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a279f65250f814269adbaadf7f94680c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a279f65250f814269adbaadf7f94680c5">ip_version</a> (struct sockaddr_storage *address)</td></tr>
<tr class="memdesc:a279f65250f814269adbaadf7f94680c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the address family of the given socket address structure.  <a href="#a279f65250f814269adbaadf7f94680c5">More...</a><br /></td></tr>
<tr class="separator:a279f65250f814269adbaadf7f94680c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77de9c9eb5a8ea2a6da108270bd7417e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a77de9c9eb5a8ea2a6da108270bd7417e">connect_to</a> (struct sockaddr *sa)</td></tr>
<tr class="memdesc:a77de9c9eb5a8ea2a6da108270bd7417e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to a remote socket using the given socket address.  <a href="#a77de9c9eb5a8ea2a6da108270bd7417e">More...</a><br /></td></tr>
<tr class="separator:a77de9c9eb5a8ea2a6da108270bd7417e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2b1cd61b591b14b2abf2cedb0cac30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a9b2b1cd61b591b14b2abf2cedb0cac30">ansi_term_clear_line</a> (int out_fd)</td></tr>
<tr class="memdesc:a9b2b1cd61b591b14b2abf2cedb0cac30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the ansi escape code for clearing the current line in a terminal.  <a href="#a9b2b1cd61b591b14b2abf2cedb0cac30">More...</a><br /></td></tr>
<tr class="separator:a9b2b1cd61b591b14b2abf2cedb0cac30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e43a9ed79e266413404db5c414b92c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#a50e43a9ed79e266413404db5c414b92c">ansi_term_cr</a> (int out_fd)</td></tr>
<tr class="memdesc:a50e43a9ed79e266413404db5c414b92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the ansi escape code for carriage return in a terminal.  <a href="#a50e43a9ed79e266413404db5c414b92c">More...</a><br /></td></tr>
<tr class="separator:a50e43a9ed79e266413404db5c414b92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b338a9b634516fb1535404d12ba9c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#ac6b338a9b634516fb1535404d12ba9c6">print_dchat_msg</a> (char *msg, int out_fd)</td></tr>
<tr class="memdesc:ac6b338a9b634516fb1535404d12ba9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a chat message to a file descriptor.  <a href="#ac6b338a9b634516fb1535404d12ba9c6">More...</a><br /></td></tr>
<tr class="separator:ac6b338a9b634516fb1535404d12ba9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af082905f7eac6d03e92015146bbc1925"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#af082905f7eac6d03e92015146bbc1925">max</a> (int a, int b)</td></tr>
<tr class="memdesc:af082905f7eac6d03e92015146bbc1925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the maximum of two given integers.  <a href="#af082905f7eac6d03e92015146bbc1925">More...</a><br /></td></tr>
<tr class="separator:af082905f7eac6d03e92015146bbc1925"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains several miscellanious utility functions. </p>

<p>Definition in file <a class="el" href="util_8c_source.html">util.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9b2b1cd61b591b14b2abf2cedb0cac30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ansi_term_clear_line </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the ansi escape code for clearing the current line in a terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_fd</td><td>File descriptor where the escape code will be written to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00092">92</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a50e43a9ed79e266413404db5c414b92c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ansi_term_cr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the ansi escape code for carriage return in a terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_fd</td><td>File descriptor where the escape code will be written to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00103">103</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a77de9c9eb5a8ea2a6da108270bd7417e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connect_to </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects to a remote socket using the given socket address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>Pointer to initalized sockaddr structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>file descriptor of new socket or -1 in case of error </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00065">65</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_a77de9c9eb5a8ea2a6da108270bd7417e_cgraph.png" border="0" usemap="#util_8c_a77de9c9eb5a8ea2a6da108270bd7417e_cgraph" alt=""/></div>
<map name="util_8c_a77de9c9eb5a8ea2a6da108270bd7417e_cgraph" id="util_8c_a77de9c9eb5a8ea2a6da108270bd7417e_cgraph">
<area shape="rect" id="node2" href="log_8c.html#a447124894e44d19ff906633927930c19" title="Log a message together with a string representation of errno as error. " alt="" coords="142,5,221,32"/><area shape="rect" id="node3" href="log_8c.html#a021b18b681712d42cb07c99171691a84" title="Log a message. " alt="" coords="269,5,341,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a279f65250f814269adbaadf7f94680c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ip_version </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr_storage *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the address family of the given socket address structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>Pointer to address to check the address family for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>4 if AF_INET is used, 6 if AF_INET6 is used or -1 in every other case </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00043">43</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

</div>
</div>
<a class="anchor" id="af082905f7eac6d03e92015146bbc1925"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int max </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the maximum of two given integers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>First integer </td></tr>
    <tr><td class="paramname">b</td><td>Second integer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either a or b, depending on which one is bigger </dd></dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00148">148</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac6b338a9b634516fb1535404d12ba9c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_dchat_msg </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a chat message to a file descriptor. </p>
<p>Prints the given message string to the given output file descriptor. Before the message is printed, the current line in the terminal is cleared and the cursor is resetted to the beginning of the line. After the message is printed, the line buffer of GNU readline containing the userinput is reprinted to the terminal. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Text message to print </td></tr>
    <tr><td class="paramname">out_fd</td><td>File descriptor where the message will be written to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="util_8c_source.html#l00119">119</a> of file <a class="el" href="util_8c_source.html">util.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util_8c_ac6b338a9b634516fb1535404d12ba9c6_cgraph.png" border="0" usemap="#util_8c_ac6b338a9b634516fb1535404d12ba9c6_cgraph" alt=""/></div>
<map name="util_8c_ac6b338a9b634516fb1535404d12ba9c6_cgraph" id="util_8c_ac6b338a9b634516fb1535404d12ba9c6_cgraph">
<area shape="rect" id="node2" href="util_8c.html#a9b2b1cd61b591b14b2abf2cedb0cac30" title="Prints the ansi escape code for clearing the current line in a terminal. " alt="" coords="174,5,319,32"/><area shape="rect" id="node3" href="util_8c.html#a50e43a9ed79e266413404db5c414b92c" title="Prints the ansi escape code for carriage return in a terminal. " alt="" coords="197,56,296,83"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="util_8c.html">util.c</a></li>
    <li class="footer">Generated on Wed Jun 18 2014 11:15:39 for DChat by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
